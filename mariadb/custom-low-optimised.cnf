[mysqld]
# General - optimized (4GB RAM, 2 vCPUs)
skip-name-resolve
max_connections         = 100
connect_timeout         = 5
wait_timeout            = 600
interactive_timeout     = 600
thread_cache_size       = 16

# InnoDB - conservative for containerized environment
innodb_buffer_pool_size = 512M
innodb_log_buffer_size  = 32M
innodb_file_per_table   = 1
innodb_flush_log_at_trx_commit = 2
innodb_flush_method     = O_DIRECT
innodb_io_capacity      = 1000
innodb_io_capacity_max  = 2000
innodb_read_io_threads  = 4
innodb_write_io_threads = 4
innodb_log_file_size    = 256M

# MyISAM
key_buffer_size         = 32M

# Query Cache (disabled for better performance)
query_cache_type        = 0
query_cache_size        = 0

# Temp Tables
tmp_table_size          = 64M
max_heap_table_size     = 64M

# Sort and join buffers
sort_buffer_size        = 2M
read_buffer_size        = 128K
read_rnd_buffer_size    = 256K
join_buffer_size        = 128K

# Table cache
table_open_cache        = 2000
table_definition_cache  = 1400

# Logging
slow_query_log          = 1
slow_query_log_file     = /bitnami/mariadb/slow.log
long_query_time         = 2

